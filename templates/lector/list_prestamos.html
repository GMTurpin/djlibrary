{% extends 'base.html' %}

{% block title %} Control de préstamos {% endblock %}

{% block content %}
    {%  include 'includes/header.html' %}

<div class ="grid-x grid-margin-x" style="background-color: #FFE4C4">
    <div class="cell large-6">
        <h1>Control de préstamos</h1>
    </div>
    <div class="cell large-4" style="font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif">
        <form class="grid-x grid-margin-x" style="margin-top:8%" method="GET">{% csrf_token %}
            <div class="cell large-7">
                <select id="listopciones" name="listopciones">
                    <option value="0">Todos</option>
                    {% for opt in opciones %}
    -                    <option value="{{ opt }}">{{ opt }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="cell large-2">
                <button class="success button" type="submit">Listar</button>
            </div>
        </form>
    </div>
</div>
<div class="grid-x grid-padding-x cell large-12" style="font-family: Cambria, Cochin, Georgia, Times, 'Times New Roman', serif">
  <div class="cell large-12">
    <table>
        <thead>
            <tr>
                <th>Libro</th>
                <th>Lector</th>
                <th>Fecha prestamo</th>
                <th>Vencimiento</th>
                <th>Fecha devuelto</th>
                <th>Acción</th>
            </tr>
        </thead>
        <tbody>
            {% for prestamo in lista_prestamos %}
            <tr>
                <td>{{ prestamo.libro }}</td>
                <td>{{ prestamo.lector }}</td>
                <td>{{ prestamo.fecha_prestamo }}</td>
                <td>{{ prestamo.vencimiento }}</td>
                <td>{{ prestamo.fecha_devolucion|default_if_none:"No devuelto" }}</td>
                <td><a class="button warning" href="{% url 'lector_app:prestamo_update' prestamo.id %}">Ficha</a></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <hr>
    {% include 'includes/pagination.html' %}
  </div>
</div>
{% endblock content %}